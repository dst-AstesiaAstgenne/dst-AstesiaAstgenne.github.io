<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>物品详情 - 专精二技能书</title>
<style>
  hr{
    margin: 20px 0;
  }
    ul {
    list-style-type: none;  /* 去除小圆点 */
    padding-left: 0;        /* 去除默认的左内边距 */
  }
</style>
  <link rel="stylesheet" href="../main.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
  <button class="sidebar-toggle">目录</button>

  <nav>
    <a href="../index.html">首页</a>
    <a href="../astesia.html">星极</a>
    <a href="../astgenne.html">星源</a>
  </nav>

  <div id="sidebar-placeholder"></div>

  <main>
    <h1 style="font-size: 48px;">专精二技能书</h1>
    <h3 style="margin-bottom: 20px;">记录着干员们所需的进阶技艺，需要耗费一定时间研读并付诸实践才能扎实掌握。</h3>
    <div class="main-container">

      <div class="left-container">
        <div class="avatar-container">
          <img src="../image/astesia2.webp" alt="星极" width="40px" height="40px" class="avatar" data-character="astesia">
          <img src="../image/astgenne2.webp" alt="星源" width="40px" height="40px" class="avatar" data-character="astgenne">
          <img src="../image/48px-Wilson_Portrait.webp" alt="威尔逊" width="40px" height="40px" class="avatar" data-character="wilson">


        </div>
        <div class="description-container" id="characterDescription">
          <!-- 角色描述将在这里动态显示 -->
        </div>
        <div class="analysis-container">
          <ul>
            <li style="margin-bottom: 20px;"><span class="color-important">技巧概要·卷2【星座守护】</span>是一种仅【星极】可制作与使用的物品。</li>
            <li>使用后令对应角色对应技能阶段提升至【专精二】<br>
              使用方式类似阅读书籍</li>
            <hr>
            <li></li>
          </ul>

        </div>
      </div>
      <div class="right-container">
        <h2 style="color: #007acc;">技巧概要·卷2【星座守护】</h2>
        <hr>
        <img src="../image/ast_skill_books2.webp" alt="技巧概要·卷2【星座守护】" width="100px">
        <hr>
        <p>分类：物品/功能</p>
        <p>解锁方式：制图桌</p>
        <p>制作材料：<br>
              ①莎草纸*8<br>
              ②蓝色羽毛*16<br>
              ③唤星者魔杖*1<br>
              ④生命值*120</p>
      </div>
    </div>
    <div class="main-container">

      <div class="left-container">
        <div class="avatar-container">
          <img src="../image/astesia2.webp" alt="星极" width="40px" height="40px" class="avatar" data-character="astesia">
          <img src="../image/astgenne2.webp" alt="星源" width="40px" height="40px" class="avatar" data-character="astgenne">
          <img src="../image/48px-Wilson_Portrait.webp" alt="威尔逊" width="40px" height="40px" class="avatar" data-character="wilson">


        </div>
        <div class="description-container" id="characterDescription">
          <!-- 角色描述将在这里动态显示 -->
        </div>
        <div class="analysis-container">
          <ul>
            <li style="margin-bottom: 20px;"><span class="color-important">技巧概要·卷2【星辉剑】</span>是一种仅【星极】可制作与使用的物品。</li>
            <li>使用后令对应角色对应技能阶段提升至【专精二】<br>
              使用方式类似阅读书籍</li>
            <hr>
            <li>【星源】可以用饼干切割机外壳做邪天翁羽毛，不用一定要去找邪天翁。（大海那么大，刻意找也很难找到吧）</li>
          </ul>

        </div>
      </div>
      <div class="right-container">
        <h2 style="color: #007acc;">技巧概要·卷2【星辉剑】</h2>
        <hr>
        <img src="../image/ast_skill_books2.webp" alt="技巧概要·卷2【星辉剑】" width="100px">
        <hr>
        <p>分类：物品/功能</p>
        <p>解锁方式：制图桌</p>
        <p>制作材料：<br>
              ①莎草纸*8<br>
              ②蓝色羽毛*16<br>
              ③邪天翁羽毛*8<br>
              ④生命值*120</p>
      </div>
    </div>

    <div class="main-container">

      <div class="left-container">
        <div class="avatar-container">
          <img src="../image/astesia2.webp" alt="星极" width="40px" height="40px" class="avatar" data-character="astesia">
          <img src="../image/astgenne2.webp" alt="星源" width="40px" height="40px" class="avatar" data-character="astgenne">
          <img src="../image/48px-Wilson_Portrait.webp" alt="威尔逊" width="40px" height="40px" class="avatar" data-character="wilson">


        </div>
        <div class="description-container" id="characterDescription2">
          <!-- 角色描述将在这里动态显示 -->
        </div>
        <div class="analysis-container">
          <ul>
            <li style="margin-bottom: 20px;"><span class="color-important">技巧概要·卷2【双端导流】</span>是一种仅【星源】可制作与使用的物品。</li>
            <li>使用后令对应角色对应技能阶段提升至【专精二】<br>
              使用方式类似阅读书籍</li>
            <hr>
            <li></li>
          </ul>

        </div>
      </div>
      <div class="right-container">
        <h2 style="color: #007acc;">技巧概要·卷2【双端导流】</h2>
        <hr>
        <img src="../image/ast_skill_books2.webp" alt="技巧概要·卷2【双端导流】" width="100px">
        <hr>
        <p>分类：物品/功能</p>
        <p>解锁方式：制图桌</p>
        <p>制作材料：<br>
              ①莎草纸*8<br>
              ②蓝色羽毛*16<br>
              ③拾荒尖帽*1<br>
              ④生命值*95</p>
      </div>
    </div>

    <div class="main-container">

      <div class="left-container">
        <div class="avatar-container">
          <img src="../image/astesia2.webp" alt="星极" width="40px" height="40px" class="avatar" data-character="astesia">
          <img src="../image/astgenne2.webp" alt="星源" width="40px" height="40px" class="avatar" data-character="astgenne">
          <img src="../image/48px-Wilson_Portrait.webp" alt="威尔逊" width="40px" height="40px" class="avatar" data-character="wilson">


        </div>
        <div class="description-container" id="characterDescription2">
          <!-- 角色描述将在这里动态显示 -->
        </div>
        <div class="analysis-container">
          <ul>
            <li style="margin-bottom: 20px;"><span class="color-important">技巧概要·卷2【星束交汇】</span>是一种仅【星源】可制作与使用的物品。</li>
            <li>使用后令对应角色对应技能阶段提升至【专精二】<br>
              使用方式类似阅读书籍</li>
            <hr>
            <li>最快手段，【星极】姐姐可以搓彩虹宝石。</li>
          </ul>

        </div>
      </div>
      <div class="right-container">
        <h2 style="color: #007acc;">技巧概要·卷2【星束交汇】</h2>
        <hr>
        <img src="../image/ast_skill_books2.webp" alt="技巧概要·卷2【星束交汇】" width="100px">
        <hr>
        <p>分类：物品/功能</p>
        <p>解锁方式：制图桌</p>
        <p>制作材料：<br>
              ①莎草纸*8<br>
              ②蓝色羽毛*16<br>
              ③星象探测仪*1<br>
              ④生命值*95</p>
      </div>
    </div>
    
  </main>
  

  <script>
  const characterDescriptions = {
    astesia: "看完后不用写心得吗？",
    astgenne: "提升技巧的中阶训练书籍。",
    wilson: "记载了进阶技巧的书籍。"
  };
  const characterDescriptions2 = {
    astesia: "提升技巧的中阶训练书籍。",
    astgenne: "好像是没遇到过的问题，得做个笔记......",
    wilson: "记载了进阶技巧的书籍。"
  }

  function setupCharacterBlock(containerIndex) {
    const container = document.querySelectorAll('.main-container')[containerIndex];
    const avatars = container.querySelectorAll('.avatar');
    const descriptionContainer = container.querySelector('.description-container');
    if(containerIndex == 0 || containerIndex == 1){
        // 初始化随机角色
      const characters = Object.keys(characterDescriptions);
      const randomCharacter = characters[Math.floor(Math.random() * characters.length)];
      showCharacterDescription(randomCharacter);
      updateActiveAvatar(randomCharacter);

      function showCharacterDescription(character) {
        descriptionContainer.textContent = characterDescriptions[character];
      }

      function updateActiveAvatar(character) {
        avatars.forEach(avatar => {
          if (avatar.dataset.character === character) {
            avatar.classList.add('active');
          } else {
            avatar.classList.remove('active');
          }
        });
      }

      avatars.forEach(avatar => {
        avatar.addEventListener('click', () => {
          const character = avatar.dataset.character;
          showCharacterDescription(character);
          updateActiveAvatar(character);
        });
      });
    }else if(containerIndex == 2 || containerIndex == 3){
      // 初始化随机角色
      const characters = Object.keys(characterDescriptions2);
      const randomCharacter = characters[Math.floor(Math.random() * characters.length)];
      showCharacterDescription(randomCharacter);
      updateActiveAvatar(randomCharacter);

      function showCharacterDescription(character) {
        descriptionContainer.textContent = characterDescriptions2[character];
      }

      function updateActiveAvatar(character) {
        avatars.forEach(avatar => {
          if (avatar.dataset.character === character) {
            avatar.classList.add('active');
          } else {
            avatar.classList.remove('active');
          }
        });
      }
      avatars.forEach(avatar => {
        avatar.addEventListener('click', () => {
          const character = avatar.dataset.character;
          showCharacterDescription(character);
          updateActiveAvatar(character);
        });
      });
    }
    
  }

  // 初始化两个容器
  window.addEventListener('DOMContentLoaded', () => {
    setupCharacterBlock(0); // 第一个 main-container
    setupCharacterBlock(1); // 第二个 main-container
    setupCharacterBlock(2); // 第三个 main-container
    setupCharacterBlock(3); // 第四个 main-container
  });


fetch("./sidebar.html")
  .then(response => response.text())
  .then(html => {
    document.getElementById("sidebar-placeholder").innerHTML = html;

    // 目录内容加载完毕后，绑定折叠事件
    const toggleBtn = document.querySelector(".sidebar-toggle");
    const sidebar = document.querySelector(".sidebar");
    if (!toggleBtn || !sidebar) {
      console.error("找不到 sidebar-toggle 或 sidebar 元素");
      return;
    }
    toggleBtn.addEventListener("click", () => {
      sidebar.classList.toggle("active");
    });
  })
  .catch(err => console.error("加载 sidebar 失败:", err));

</script>

</body>
</html>
