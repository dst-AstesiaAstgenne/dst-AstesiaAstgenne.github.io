<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>物品详情 - D32钢</title>
<style>
  hr{
    margin: 20px 0;
  }
  ul {
    list-style-type: none;  /* 去除小圆点 */
    padding-left: 0;        /* 去除默认的左内边距 */
  }
  .craftable-items {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }
    .craftable-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-decoration: none;
      color: inherit;
    }
    .craftable-item img {
      width: 40px;
      height: 40px;
      transition: transform 0.2s;
    }
    .craftable-item:hover img {
      transform: scale(1.1);
    }
    .craftable-item span {
      font-size: 12px;
      margin-top: 5px;
    }
</style>
  <link rel="stylesheet" href="../main.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
  <button class="sidebar-toggle">目录</button>

  <nav>
    <a href="../index.html">首页</a>
    <a href="../astesia.html">星极</a>
    <a href="../astgenne.html">星源</a>
  </nav>

  <div id="sidebar-placeholder"></div>

  <main>
    <h1 style="font-size: 48px;">D32钢</h1>
    <h3 style="margin-bottom: 20px;">强度超群，无法击穿，顺畅传导源石技艺，将重新订立武器材料的标准。</h3>
    <div class="main-container">

      <div class="left-container">
        <div class="avatar-container">
          <img src="../image/astesia2.webp" alt="星极" width="40px" height="40px" class="avatar" data-character="astesia">
          <img src="../image/astgenne2.webp" alt="星源" width="40px" height="40px" class="avatar" data-character="astgenne">
          <img src="../image/48px-Wilson_Portrait.webp" alt="威尔逊" width="40px" height="40px" class="avatar" data-character="wilson">


        </div>
        <div class="description-container" id="characterDescription">
          <!-- 角色描述将在这里动态显示 -->
        </div>
        <div class="analysis-container">
          <ul>
            <li style="margin-bottom: 20px;"><span class="color-important">D32钢（ast_d32steel）</span>是一种仅【星极】【星源】可制作的材料。</li>
            <li>D32钢是一个模组专属材料，能够允许【星极】【星源】制作部分专属物品。</li>
            <li>
              <span class="color-important">说明-获取方式：</span><br>
              ①激活蓝色【知识饮水机】产出的【蒸馏的知识】时额外获得该蓝图。（若已学会便不再给予蓝图）<br>
              ②击败【钢羊】30%掉落1个<br>
              ③击败【激光眼】掉落1个<br>
              ④击败【魔焰眼】掉落1个<br>
              ⑤击败【拾荒疯猪】掉落1个<br>
              ⑥击败【天体英雄】三阶段掉落2个
            </li>
            <li> 
              <span class="color-important">可制作：</span>
              <div id="craftableItems" class="craftable-items">
                <!-- 可制作物品图标将在这里动态显示 -->
              </div>
            </li>
            <hr>
            <li>前期缺到爆炸后期烂大街的玩意。</li>
            <li>由于天体英雄前较少的获取途径和自身高昂的制作价值，D32钢使得翻脚印似乎成了前期获取的重要来源？如果运气还行的话。</li>
          </ul>

        </div>
      </div>
      <div class="right-container">
        <h2 style="color: #007acc;">"D32钢"</h2>
        <p>ast_d32steel</p>
        <hr>
        <img src="../image/ast_d32steel.webp" alt="D32钢" width="100px">
        <hr>
        <p>分类：物品/材料<br>堆叠上限10</p>
        <p>解锁方式：蓝图解锁</p>
        <p>制作材料：<br>
              ①大理石*20<br>
              ②铥矿碎片*20<br>
              ③蒸馏的知识*5</p>
      </div>
    </div>
    
  </main>

  <script>
    // 角色描述数据
    const characterDescriptions = {
      astesia: "巧妙而精细的结构。",
      astgenne: "可以用于高级的强化场合。",
      wilson: "令人费解的结构。"
    };

    // 可制作物品数据
    const craftableItems = [
      { name: "祷告星辰之语", image: "../image/astesia_sword3.webp", link: "astesia_sword3.html" },
      { name: "昭示星光之愿", image: "../image/astgenne_wand3.webp", link: "astgenne_wand3.html" },
      { name: "奇工纳物箱", image: "../image/ast_box.webp", link: "ast_box.html" },
      { name: "星象天体仪", image: "../image/ast_globes.webp", link: "ast_globes.html" },
      { name: "微星投影仪", image: "../image/ast_base.webp", link: "ast_base.html" }
    ];

    // 获取DOM元素
    const avatars = document.querySelectorAll('.avatar');
    const descriptionContainer = document.getElementById('characterDescription');
    const craftableItemsContainer = document.getElementById('craftableItems');

    // 随机选择初始角色
    function initializeRandomCharacter() {
      const characters = Object.keys(characterDescriptions);
      const randomCharacter = characters[Math.floor(Math.random() * characters.length)];
      showCharacterDescription(randomCharacter);
      updateActiveAvatar(randomCharacter);
    }

    // 显示角色描述
    function showCharacterDescription(character) {
      descriptionContainer.textContent = characterDescriptions[character];
    }

    // 更新活跃的头像样式
    function updateActiveAvatar(character) {
      avatars.forEach(avatar => {
        if (avatar.dataset.character === character) {
          avatar.classList.add('active');
        } else {
          avatar.classList.remove('active');
        }
      });
    }

    // 为每个头像添加点击事件
    avatars.forEach(avatar => {
      avatar.addEventListener('click', () => {
        const character = avatar.dataset.character;
        showCharacterDescription(character);
        updateActiveAvatar(character);
      });
    });

    // 生成可制作物品图标
    function generateCraftableItems() {
      craftableItemsContainer.innerHTML = '';
      craftableItems.forEach(item => {
        const itemElement = document.createElement('a');
        itemElement.href = item.link;
        itemElement.className = 'craftable-item';
        
        const imageElement = document.createElement('img');
        imageElement.src = item.image;
        imageElement.alt = item.name;
        
        const nameElement = document.createElement('span');
        nameElement.textContent = item.name;
        
        itemElement.appendChild(imageElement);
        itemElement.appendChild(nameElement);
        craftableItemsContainer.appendChild(itemElement);
      });
    }

    // 页面加载时初始化
    window.addEventListener('DOMContentLoaded', () => {
      initializeRandomCharacter();
      generateCraftableItems();
    });
  

fetch("./sidebar.html")
  .then(response => response.text())
  .then(html => {
    document.getElementById("sidebar-placeholder").innerHTML = html;

    // 目录内容加载完毕后，绑定折叠事件
    const toggleBtn = document.querySelector(".sidebar-toggle");
    const sidebar = document.querySelector(".sidebar");
    if (!toggleBtn || !sidebar) {
      console.error("找不到 sidebar-toggle 或 sidebar 元素");
      return;
    }
    toggleBtn.addEventListener("click", () => {
      sidebar.classList.toggle("active");
    });
  })
  .catch(err => console.error("加载 sidebar 失败:", err));

</script>
</body>
</html>
